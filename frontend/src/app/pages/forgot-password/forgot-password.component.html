<div class="forgot-password-container">
  <div class="left-panel">
    <div class="forgot-password-form">
      <!-- Logo -->
      <div class="logo">
        <img src="../../../assets/images/logo.png" alt="Logo" class="auth-logo">
      </div>

      <!-- Title -->
      <div class="title-section">
        <h1>Recuperar senha</h1>
        <p>Insira seu e-mail cadastrado e enviaremos um link para redefinir sua senha.</p>
      </div>

      <!-- Success State -->
      <div *ngIf="isSubmitted && successMessage" class="success-state">
        <div class="success-icon">
          <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" fill="#10B981"/>
            <path d="m9 12 2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h2>E-mail enviado!</h2>
        <p>{{ successMessage }}</p>
        <button type="button" class="back-btn" (click)="goBackToLogin()">
          Voltar ao login
        </button>
      </div>

      <!-- Form State -->
      <form *ngIf="!isSubmitted" [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="auth-form">
        <!-- Email Field -->
        <div class="form-group">
          <label for="email">E-mail cadastrado</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            placeholder="Digite seu e-mail"
            [class.error]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched"
          />
          <div class="error-message" *ngIf="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
            <span *ngIf="forgotPasswordForm.get('email')?.errors?.['required']">E-mail é obrigatório</span>
            <span *ngIf="forgotPasswordForm.get('email')?.errors?.['email']">E-mail inválido</span>
          </div>
        </div>

        <!-- Error Message -->
        <div class="error-alert" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>

        <!-- Submit Button -->
        <button type="submit" class="submit-btn" [disabled]="forgotPasswordForm.invalid || isLoading">
          <span *ngIf="!isLoading">Enviar link de redefinição de senha</span>
          <span *ngIf="isLoading">Enviando...</span>
        </button>

        <!-- Divider -->
        <div class="divider">
          <span>OU</span>
        </div>

        <!-- Back to Login Link -->
        <div class="back-to-login">
          <span>Lembrou sua senha? </span>
          <a routerLink="/login">Faça login</a>
        </div>
      </form>
    </div>
  </div>

  <div class="right-panel">
    <div class="illustration">
      <img src="../../../assets/images/esquecisenha.png" alt="Forgot Password Illustration" class="auth-illustration">
    </div>
  </div>
</div>